var ANIMATION_DURATION=200,ANIMATION_EASING="swing",CURRENCY_ICON="far fa-money-bill-wave";!function(a,b,c,d){function e(a){for(var b=[],c=a&&a.target;c&&c!=document.body;)b.push(c),c=c.parentNode;return b}a.fn.carXpAmplifiers=function(){return this.each(function(){var b=a(this),c=b.find(".btn-car-level-amplifiers");c.popover({trigger:"manual",animation:!1,placement:"bottom",container:"body",html:!0,content:function(){return b.find(".dropdown-menu-car-level-amplifiers").prop("outerHTML")},template:'<div class="popover popover-car-level-amplifiers m-0 p-0 mt-1 border-0" role="tooltip"><div class="popover-content p-0 m-0"></div></div>'}),c.on("click",function(){c.popover(c.attr("aria-describedby")?"hide":"show")})})},a(".dropdown-car-level-amplifiers").carXpAmplifiers(),a.fn.energyAmplifiers=function(){return this.each(function(){var b=a(this),c=b.find(".btn-energy-amplifiers");c.popover({trigger:"manual",animation:!1,placement:"bottom",container:"body",html:!0,content:function(){return b.find(".dropdown-menu-energy-amplifiers").prop("outerHTML")},template:'<div class="popover popover-energy-amplifiers m-0 p-0 border-0" role="tooltip"><div class="popover-content p-0 m-0"></div></div>'}),c.on("shown.bs.popover",function(b){var d=Math.min(document.body.clientWidth,window.outerWidth),e=a("#"+c.attr("aria-describedby")),f=d-(c.offset().left+c.outerWidth());e.css({left:"unset",right:f+"px"}),a(".btn-energy-amplifiers").not(c).popover("hide")}),c.on("click",function(){c.popover(c.attr("aria-describedby")?"hide":"show")})})},a(".dropdown-energy-amplifiers").energyAmplifiers();var f=a(c);f.on("click",function(b){var c=e(b&&b.originalEvent);c.find(function(a){return["popover-energy-amplifiers","dropdown-energy-amplifiers"].some(function(b){return a.classList.contains(b)})})||a(".btn-energy-amplifiers").popover("hide"),c.find(function(a){return["dropdown-car-level-amplifiers","popover-car-level-amplifiers"].some(function(b){return a.classList.contains(b)})})||a(".btn-car-level-amplifiers").popover("hide")}),f.on("success.tx.form error.tx.form","form",function(){a(".btn-energy-amplifiers").popover("destroy"),setTimeout(function(){a(".dropdown-energy-amplifiers").energyAmplifiers()})}),f.on("click",".dropdown-menu-car-level-amplifiers .scItem.ready",function(b){var c=a(".dropdown-menu-car-level-amplifiers");b.stopPropagation(),c.loading("show");var d,e=a(".garageDisplay").data("id");a.post("/shop/use/useUpgradeTaxiLevelItem/"+b.currentTarget.dataset.id,{taxiId:e}).done(function(b){!0===b.error&&toastr.error(b.message),d=a("<div/>").append(b.upgrade_taxi_level_amplifiers).find(".dropdown-car-level-amplifiers"),a(".btn-car-level-amplifiers").popover("destroy"),a(".dropdown-car-level-amplifiers").replaceWith(d),a(".dropdown-car-level-amplifiers").carXpAmplifiers()}).error(function(a){toastr.error(a.message),c.loading("hide")})}),f.on("click",".dropdown-menu-energy-amplifiers .scItem.ready",function(b){var c=a(".dropdown-menu-energy-amplifiers");b.stopPropagation(),c.loading("show");var d;a.post("/shop/use/energyRecoverItem/"+b.currentTarget.dataset.id).done(function(b){b.message&&toastr.success(b.message),d=a("<div/>").append(b.energy_amplifiers).find(".dropdown-energy-amplifiers"),a(".btn-energy-amplifiers").popover("destroy"),a(".dropdown-energy-amplifiers").replaceWith(d),a(".dropdown-energy-amplifiers").energyAmplifiers()}).error(function(a){toastr.error(a.message),c.loading("hide")})}),f.on("click",".box-item-block .item.ready button",function(b){var c=a(".box-item-block"),d=b.currentTarget.dataset.id;c.loading("show"),a.post("/shop/use/experienceIncreaseItem/"+b.currentTarget.dataset.id,{taxiId:b.currentTarget.dataset.taxiId}).done(function(e){e.message&&toastr.success(e.message);var f=a.parseJSON(e.experience_increase_items).amount;c.find("span.badge#"+d).html(f),0==f&&a(b.target).prop("disabled",!0),c.loading("hide"),playSound("upgrade_install")}).error(function(a){toastr.error(a.message),c.loading("hide")})}),a(function(){void 0!=toastr&&(toastr.options.escapeHtml=!1,toastr.options.progressBar=!0,toastr.options.closeButton=!1,toastr.options.closeHtml='<button class="btn btn-close text-danger"><i class="fa fa-times"></i></button>')}),a(function(){var d=(a(b),a("body")),e=a("[data-mask]");if(e.length&&void 0!=a.fn.mask&&e.each(function(){var b=a(this);b.mask(b.data("mask"))}),void 0!=a.fn.intlTelInput){var g=a.fn.intlTelInput.getCountryData();a.each(g,function(a,b){b.name=b.name.replace(/.+\((.+)\)/,"$1")});var h=a("[data-intl='phone']");h.length&&h.each(function(){var b=a(this);b.intlTelInput({preferredCountries:["ru","en"],initialCountry:"ru",numberType:"MOBILE",separateDialCode:!1,nationalMode:!1,autoHideDialCode:!1,customPlaceholder:function(a,b){return a}}),b.on("focus countrychange",function(){var a=b.intlTelInput("getSelectedCountryData"),c=intlTelInputUtils.numberType.MOBILE,d=a.iso2?intlTelInputUtils.getExampleNumber(a.iso2,!1,c):"",e=d.replace(/^\+?/g,"");e=e.replace(/[\d]/g,9);var f=b.val();return(b.data("mask")||"")!==e&&(e.length?(b.data("mask",e),b.mask("+"+e,{autoclear:!1}),b.val(f.replace(/[^\+\d]/g,""))):(b.unmask(),b.val(f.replace(/[^\+\d]/g,""))),b.trigger("change")),!1}),b.on("keyup",function(){var a=b.val();a=a.replace(/[^\+\d _]/g,""),a.length||b.val("+")})})}var i=a("[data-toggle='image'][data-image-container]");i.length&&void 0!=a.fn.file&&i.each(function(){var b=a(this),c=b.closest(b.data("parent")||".form-group"),d=c.find(b.data("remove")||"[data-dismiss='image']"),e=(c.find(b.data("image-container")),c.find(b.data("target")||"input[type='file']")),f=c.find("input[type='checkbox']");e.length&&e.is("input[type='file']")&&(e.file().on("image.load.ws.file",function(a){var b=a.fileResult;f.prop("checked",!1),e.trigger("image.loaded.ws.file",[b])}),e.on("dismiss.ws.file",function(a){e.val(""),f.prop("checked",!0)}),b.on("click",function(){return e.click(),!1}),d.on("click",function(){var b=a.Event("before.dismiss.ws.file");return e.trigger(b),!b.isDefaultPrevented&&(e.trigger("dismiss.ws.file"),!1)}))});var j=a("[data-attach][data-target]");j.length&&j.each(function(){var b=a(this),c=b.data("attach"),d=a(b.data("target"));b.on(c,function(a){d.trigger(c)})});var k=a(".form-avatar");k.length&&k.each(function(){var b=a(this),c=b.find("input[type='file']"),d=b.find(".confirm-block"),e=b.find(".error-block"),f=b.find(".loading-block");c.on("before.dismiss.ws.file",function(a){a.preventDefault(),d.show(),d.find("button").one("click",function(){d.hide(),c.trigger("dismiss.ws.file"),b.trigger("submit")})}),c.on("dismiss.ws.file",function(a){k.find(".img-user-avatar").css("background-image",""),k.find(".collapse").addClass("in"),k.removeClass("has-image")}),c.on("loading.ws.file",function(a){f.show(0)}),c.on("loaded.ws.file",function(a){console.log(f),f.hide(0)}),c.on("image.loaded.ws.file",function(a){b.trigger("submit")}),b.on("submit",function(b){b.preventDefault();var d=a(this);c.trigger("loading.ws.file"),d.find(".has-error").removeClass("has-error"),e.hide(),a.ajax({url:d.attr("action"),type:"post",dataType:"json",data:new FormData(d[0]),success:function(b){if(c.trigger("loaded.ws.file"),console.log(b,k),1==("success"==b.status||!1))b.src?(a('[data-header-avatar="true"]').attr("src",b.src),k.find(".img-user-avatar").css("background-image","url("+b.src+")"),k.find(".collapse").removeClass("in"),k.addClass("has-image")):(k.find(".img-user-avatar").css("background-image",""),k.find(".collapse").addClass("in"),k.removeClass("has-image"));else{var d,f=b.errors||{};for(d in f)e.append(a("<p>").html(f[d]));c.closest(".form-group").addClass("has-error"),e.show()}},async:!0,cache:!1,contentType:!1,processData:!1})})}),a(document).on("change keyup","input[data-join]",function(){var b=a(this),c=a(b.data("join"));c.length&&c.val(b.val())});var l=a("form[data-ajax-custom]");l.length&&l.each(function(){var b=a(this),c=b.find(".alert-danger"),d=b.find(".alert-success"),e=b.find("[type=submit]");b.on("loading.ws.form",function(){b.prop("disabled",!0),e.button("loading")}),b.on("load.ws.form",function(){e.button("reset"),b.prop("disabled",!1)}),b.on("submit",function(e){return e.preventDefault(),d.add(c).hide(),b.find(".has-error").removeClass("has-error"),b.find(".error-block").html("").hide(),b.trigger("loading.ws.form"),a.ajax({url:b.attr("action"),type:b.attr("method"),dataType:"json",data:new FormData(this),success:function(c){if(b.trigger("load.ws.form"),1==("success"==c.status||!1)){if(c.redirect)return void(window.location.href=c.redirect);d.html(a("<p>").html(c.message)).show()}else{var e,f,g,h,i=c.errors||{};for(e in i)h=b.find("[name='"+e+"']"),h.length&&(f=i[e],g=h.closest(".form-group"),g.addClass("has-error"),g.find(".error-block").html(a("<p>").html(f)).show());c.message&&toastr.error(c.message,trans("common.title.error"))}},async:!0,cache:!1,contentType:!1,processData:!1}),!1})}),f.on("payment_crypto.tx.init",function(){var b=a("[data-toggle='buttons']");b.length&&b.each(function(){var b=a(this),c=b.data("target")||".btn",d=b.find(c);d.on("click",function(){var b=a(this);if("group"==b.data("toggle")){var c="swing-in-top-fwd",e=b.data("opened");d.each(function(){a(this).parents("[data-collapse-by]").removeClass("animated "+c).hide(),e?a(this).parents("[data-collapse-by=0]").show().addClass("animated "+c):a(this).parents("[data-collapse-by="+b.data("group")+"]").show().addClass("animated "+c),a(this).find(".arrow-back").toggle()}),b.data("opened",!e),b.parents("[data-collapse-by]").show().removeClass("animated "+c),b.find(".payment-logo,.icon").toggle()}else d.removeClass("active"),b.addClass("active"),b.trigger("toggle.tx.buttons")})})}),f.trigger("payment_crypto.tx.init");var m=a("form");m.length&&(m.on("disable.tx.form",function(){a(this).find("[type='submit']").prop("disabled",!0)}),m.on("enable.tx.form",function(){a(this).find("[type='submit']").prop("disabled",!1)})),d.on("click","[data-toggle='set'][data-target]",function(b){var c=a(this),d=a(c.data("target")),e=c.data("value");return d.length&&d.is("input[type='text'],input[type='hidden']")&&d.val(e),!1});var n=a(".flash-container");n.length&&void 0!=toastr&&n.find(".flash-block").each(function(){var b=a(this),c=b.find("h3").html(),d=b.find("p").html();switch(b.data("type")){case"success":toastr.success(d,c);break;case"error":toastr.error(d,c);break;case"warning":toastr.warning(d,c);break;case"info":toastr.info(d,c)}}),function(){a("[data-toggle='dropdown'][data-trigger='hover']").each(function(){var b=a(this),c=b.closest(".dropdown");c.on("mouseenter",function(a){c.is(".open")||b.dropdown("toggle")}),c.on("mouseleave",function(a){c.is(".open")&&b.dropdown("toggle")})})}(),function(){d.on("click","[data-toggle='print'][data-url]",function(b){var c=(a(this),window.open("about:blank","_new"));c.document.open(),c.document.write('<html><head><link rel="stylesheet" type="text/css" href="/media/assets/app/src/css/base.css?0.3"><script>function step1(){setTimeout(\'step2()\', 10);}function step2(){window.print();window.close()}<\/script></head><body onload=\'step1()\'>'+$target.html()+"</body></html>"),c.document.close()}),d.on("click","[data-toggle='download'][data-target][data-filename]",function(b){var c=a(this),d=new XMLHttpRequest;d.open("GET",c.data("url"),!0),d.responseType="blob",d.onload=function(){var a=window.URL||window.webkitURL,b=a.createObjectURL(this.response),d=document.createElement("a");d.href=b,d.download=c.data("filename"),document.body.appendChild(d),d.click(),document.body.removeChild(d)},d.send()}),d.on("click","[data-toggle='copy'][data-target]",function(e){e.preventDefault();var f,g,h=a(this),i=a(h.data("target")),j=h.data("success-text")||trans("system.success.copy");i.length&&i.is("[type='text'],[type='email']")&&(f=i.val(),g=a("<input>").val(f).css({position:"absolute",bottom:0,zIndex:"-1"}),d.append(g),g.select(),c.execCommand("copy"),g.remove(),b.toastr.success(j,trans("system.success.title")))}),d.on("click","[data-toggle='select']",function(b){b.preventDefault(),a(this).select()})}(),function(){d.on("click","[data-toggle='trigger'][data-target][data-event]",function(b){b.preventDefault();var c=a(this),d=a(c.data("target"));d.length&&d.trigger(c.data("event"))}),d.on("click","[data-trigger][data-target]",function(b){var c=a(this),d=a(c.data("target"));if(d.length){var e=a.Event(c.data("trigger"));e.relatedTarget=c,d.trigger(e)}})}(),function(){a(".modal-confirm").on("show.bs.modal",function(b){var c=a(this),d=a(b.relatedTarget),e={confirmText:"",confirmHtml:"",confirmTitle:"",confirmTarget:"",confirmUrl:""},f=a.extend({},e,d.data());if(!f.confirmTarget&&!f.confirmUrl)return b.preventDefault(),void console.error("data-confirm-target or data-confirm-url must be defined");if(f.confirmTarget){var g=a(f.confirmTarget);if(!g.length||!g.is("form"))return b.preventDefault(),void console.error("Target form not found")}c.find(".confirm-action").one("click",function(a){return a.preventDefault(),f.confirmUrl?window.location.href=f.confirmUrl:g.trigger("submit"),c.modal("hide"),!1}),f.confirmHtml?c.find(".confirm-text").html(f.confirmHtml):f.confirmText&&c.find(".confirm-text").text(f.confirmText),f.confirmTitle&&c.find(".confirm-title").text(f.confirmTitle)})}(),function(){d.on("click","[data-dismiss='collapse']",function(b){var c=a(this),d=c.data("target"),e=c.closest(d||".collapse");e.length&&e.collapse("hide")})}(),function(){d.on("change","[type='checkbox'][data-toggle='checked'][data-target]",function(){var b=a(this),c=a(b.data("target"));c.length&&c.find(":checkbox").filter(function(){return!a(this).is(b)}).prop("checked",b.is(":checked")).trigger("change")})}()}),f.on("show.bs.collapse","[data-collapse-url]",function(b){var c=a(this),d=a(b.relatedTarget),e="loaded.tx.collapse";c.data(e)||(d.button("loading"),a.ajax({url:c.data("collapseUrl"),success:function(a){c.find(".collapse-content, [data-collapse-content]").append(a.html),d.button("reset"),c.find("form[data-ajax]").ajaxForm(),c.data(e,!0),c.trigger("loaded.tx.collapse")}}))}),function(){a(".register-on-server").click(function(){return a(this).button("loading"),a.post("/register/register-on-server"+location.search).done(function(a){if("success"==a.status)return void location.reload();toastr.error(a.message)}).error(function(a){toastr.error(a.message)}),!1})}(),a("[data-link-close-abpromo]").on("click",function(){a(this).closest('[data-abpromo-container="true"]').collapse("hide");var b=a("#abtest-promo-close");b.find('input[name="abtest_id"]').val(a(this).data("link-close-abpromo")),b.submit()})}(jQuery,window,document),function(a,b){"use strict";function c(a,c,d,e,f,g){c=c!==b?c:null,g=g===b||g,d=d!==b?d:".",e=e!==b?e:" ";var h,i=a<0?"-":"",j=String(parseInt(a=Math.abs(Number(a)||0).toFixed(c)));h=(h=j.length)>3?h%3:0;var k=i+(h?j.substr(0,h)+e:"")+j.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+e)+(c?d+Math.abs(a-j).toFixed(c).slice(2):"");return c>0&&g&&(k=k.replace(/0+$/,""),k=k.replace(/\.+$/,"")),k+(f||"")}Number.prototype.number=function(a,d,e,f,g){return a=a!==b?a:null,g=g===b||g,d=d!==b?d:null,e=e!==b?e:null,null===d&&(d="."),null===e&&(e=" "),null===a&&(a=2),c(this,a,d,e,f,g)},Number.prototype.gem=function(a,d,e){return a=a!==b?a:null,d=d===b||d,e=e!==b?e:" <i class='fa fa-diamond'></i>",null===a&&(a=2),c(this,a,"."," ",e,d)},Number.prototype.taximanite=function(a,d,e){return a=a!==b?a:null,d=d===b||d,e=e!==b?e:" <img src='/media/assets/app/src/icons/taximanite1.png' width='25px'/>",null===a&&(a=2),c(this,a,"."," ",e,d)},Number.prototype.money=function(a,d,e){return a=a!==b?a:null,d=d===b||d,e=e!==b?e:" <i style='font-size: 90%' class='"+CURRENCY_ICON+"'></i>",null===a&&(a=2),c(this,a,"."," ",e,d)},Number.prototype.duration=function(a){a=a!==b?a:"d h i s ";var c,d,e,f,g=this;return g=Math.max(0,g),c=Math.floor(g/86400),g-=60*c*60*24,e=Math.floor(g/3600),g-=60*e*60,d=Math.floor(g/60),g-=60*d,f=g-Math.floor(g),g-=f,g=Math.floor(g),f=Math.round(10*f),a=a.replace(/d/,c?c+"д.":""),a=a.replace(/h/,e+"ч."),a=a.replace(/i/,d+"м."),a=a.replace(/s/,g?g+"с.":"")},Number.prototype.account=function(a,b,c){switch(a){default:case"money":return this.money(b,c);case"gem":return this.gem(b,c);case"taximanite":return this.taximanite(b,c)}}}(jQuery),function(a,b){"use strict";function c(b,c,d){var e=new a.Event("hide.bs.collapse");e.relatedTarget=c,b.trigger(e),d=a.extend({},{duration:ANIMATION_DURATION,easing:ANIMATION_EASING,complete:function(){b.removeClass("in"),b.add(c).attr("aria-expanded",!1),e=new a.Event("hidden.bs.collapse"),e.relatedTarget=c,b.trigger(e)}},d||{}),b.slideUp(d)}function d(b,c,d){var e=new a.Event("show.bs.collapse");e.relatedTarget=c,b.trigger(e),d=a.extend({},{duration:ANIMATION_DURATION,easing:ANIMATION_EASING,complete:function(){b.addClass("in"),b.add(c).attr("aria-expanded",!0),e=new a.Event("shown.bs.collapse"),e.relatedTarget=c,b.trigger(e)}},d||{}),b.slideDown(d)}var e=a(document);a.fn.slide=function(b,e,f){return this.each(function(){var g=a(this);switch(b){case"hide":c(g,e,f);break;case"show":d(g,e,f);break;case"toggle":g.hasClass("in")?c(g,e,f):d(g,e,f)}})},e.on("click","[data-toggle=slide][data-target]",function(b){b.preventDefault(),b.stopImmediatePropagation();var c=a(this),d=a(c.data("target")),e=c.data("slide");d.slide(e||"toggle",this)}),e.on("click","[data-dismiss=slide][data-target]",function(){var b=a(this);b.closest(b.data("target")).slide("hide",this)}),e.on("hide.bs.collapse hide.bs.modal","[data-collapse-cookie]",function(){var b=a(this);Cookie.set(b.data("collapse-cookie"),1)}),e.on("show.bs.collapse show.bs.modal","[data-collapse-cookie]",function(){var b=a(this);Cookie.set(b.data("collapse-cookie"),0)})}(jQuery),function(a){function b(){a('[data-toggle="timeout-collapse"][data-target][data-timeout]').each(function(){var b=a(this),c=a(b.data("target")),d=b.data("prop"),e=b.data("timeout-id");e&&clearTimeout(e);var f=new Date(1e3*b.data("timeout")),g=new Date,h=f.getTime()-g.getTime(),i=function(){d&&b.prop(d,!b.prop(d)),c.collapse("toggle")};h<=0||(e=setTimeout(i,h),b.data("timeout-id",e))}),a(".icon-achievement-circle").mouseenter(function(){a(this).closest(".icon-achievement-block").find(".achievement-info").show()}).mouseleave(function(){a(this).closest(".icon-achievement-block").find(".achievement-info").hide()}),a(document).on("finished.tx.countdown","[data-countdown-listener][data-countdown-target]",function(){var b=a(this),c=b.data("countdownBehavior"),d=b.data("countdownListener");a(document).find(b.data("countdownTarget")).each(function(b,e){var f=a(e);if("once"===c){var g="executed-".concat(d);if(f.data(g))return!1;f.data(g,1)}switch(d){case"toggle-visibility":f.hasClass("hidden")?f.removeClass("hidden"):f.addClass("hidden");break;case"toggle-enabled":f.prop("disabled")?f.prop("disabled",!1).removeClass("disabled").removeAttr("disabled").removeAttr("data-prop"):f.prop("disabled",!0).addClass("disabled").attr("disabled","")}})})}a(document).on("reset.tx.timeout-collapse",b),a(b)}(jQuery),function(a){$(document).on("click",'[data-power-bank-restore="true"]',function(b){var c,d=$(this).data("restore"),e=$(".garageDisplay").data("taxi-id");"BUTTON"==(null===(c=b.target)||void 0===c?void 0:c.tagName)&&$(b.target).button("loading"),$.ajax("/power-bank",{type:"post",data:{amount:d,form_id:"spentPower",taxi_id:e},success:function(c){var d;if("BUTTON"==(null===(d=b.target)||void 0===d?void 0:d.tagName)&&$(b.target).button("reset"),c.redirect)return void(window.location.href=c.redirect);c.errors?toastr.error(c.errors.form[0]):(toastr.success(c.message),c.taxi&&$('.employer[data-taxi-id="'+e+'"]').each(function(){$(this).trigger("force-update.tx.employer",[c])}),$(".employerOrder").length&&$.get(location.href,null,function(b){$(a).trigger("update.tx.city_order",[b.orders])}))}})})}(document),$(document).on("click",'[data-preview="venobox"]',function(a){$(this).hasClass("vbox-item")||$(this).venobox().trigger("click"),a.preventDefault()}),$(document).on("DOMContentLoaded",function(a){$('[data-gallery="venobox"]').venobox()}),$(document).on("click",".btn.btn-social.bonus",function(){$.get("/partner/applyBonus",null,function(a){"success"===a.status?toastr.success(a.message):toastr.error(a.message)})}),function(a,b){"use strict";function c(b){a("body").append(b),a("body").children().last().modal("show")}function d(a){if(playSound!==b)return void playSound(a);var c=setInterval(function(){playSound!==b&&(clearInterval(c),playSound(a))},500)}a(document).ajaxComplete(function(a,e){if(void 0===e.responseJSON&&"{"==e.responseText.substr(0,1)&&(e.responseJSON=JSON.parse(e.responseText)),e.responseJSON){var f=e.responseJSON;f.showModal&&(a.preventDefault(),c(f.showModal)),f.sound!==b&&f.sound&&d(f.sound)}}),a(function(){var a=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];window.isMobile=a.some(function(a){return navigator.userAgent.match(a)})})}(jQuery),function(a,b){"use strict";function c(a){var b=document.createElement("textarea");b.value=a,b.style.top="0",b.style.left="0",b.style.position="fixed",document.body.appendChild(b),b.focus(),b.select();try{var c=document.execCommand("copy"),d=c?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+d)}catch(a){console.error("Fallback: Oops, unable to copy",a)}document.body.removeChild(b)}function d(a){if(!navigator.clipboard)return void c(a);navigator.clipboard.writeText(a).then(function(){},function(a){console.error("Could not copy text: ",a)})}a("[data-copy-text]").on("click",function(b){b=window.event||b;var c=a(b.target);if(!c.is("button")){var e=c.parents("button[data-copy-text]");if(!e)return void console.log("Cant get object with [data-copy-text]");c=a(e.get(0))}b.preventDefault();var f=c.data("copy-text");if(!f)return void console.log("No text ?");d(f);var g=c.attr("data-original-title");c.on("hide.bs.tooltip",function(){c.attr("data-original-title",g)}).attr("data-original-title","Copied"),c.tooltip("show")}),a(".crossRotate").on("click",function(){a(this).toggleClass("active")}),a(".pre-loader").click(function(){a(this).button("loading")}),a("[data-premium-button=true]").click(function(){var b=a(this),c=b.attr("data-href");window.location.href=c}),a("[data-filter-button=true]").click(function(b){var c=a(this);if(c.hasClass("selected"))b.preventDefault(),c.hasClass("active")?(c.removeClass("active"),c.trigger("closed")):(c.addClass("active"),c.trigger("opened"));else{c.button("loading");var d=c.attr("data-preset-key"),e=c.attr("data-preset-name"),f=new URL(window.location.href);f.searchParams.set(e,d),window.location.href=f.href}}),a(".pushSound").on("click",function(){playSound("keydown")}),a(".upgradeInstallSound").on("click",function(){playSound("ability")}),a(".paySalarySound").on("click",function(){playSound("pay_salary")}),a("button.prolong-btn").on("click",function(){var b=a(this).data("sound");void 0!==b&&(playSound(b),"push"===b?a(this).data("sound","pay_salary"):a(this).data("sound","push"))}),a("#widgets-container .modal-widget").modal("show")}(jQuery),function(a){a('[data-power-restore="true"]').on("click",function(b){a('[data-power-actions="true"]').toggle()}),a(document).on("click",'[data-power-bank-restore="true"]',function(){isNewTheme()||a('[data-power-actions="true"]').hide()}),a(document).ready(function(){var b=a(document);b.on("complete.tx.form",'[data-form="gem-power-restore"]',function(){isNewTheme()?a('[data-power-actions="true"]').trigger("txForceHide"):a('[data-power-actions="true"]').hide(),a("#powerbank-restore-modal").trigger("hide")}),b.on("success.tx.form",'[data-form="gem-power-restore"]',function(b,c){if(playSound("shop"),c.taxi){var d=a(this).find('input[name="taxi_id"]').val();a('.employer[data-taxi-id="'+d+'"]').each(function(){a(this).trigger("force-update.tx.employer",[c])})}}),b.on("show","#powerbank-restore-modal",function(){var b=a(".garageDisplay").data("taxi-id");a(this).find('input[name="taxi_id"]').val(b),a('[data-power-actions="true"]').trigger("txForceHide")})})}(jQuery),function(a){for(var b=new URLSearchParams(window.location.search),c=[{value:b.get("withError"),toastr:toastr.error},{value:b.get("withSuccess"),toastr:toastr.success}],d=0,e=c;d<e.length;d++){var f=e[d];f.value&&f.value!==trans(f.value)&&f.toastr(trans(f.value))}}(jQuery),$(function(){$('[data-polis-land="true"]').find(".progressBar").progressTimer()}),$(document).on("click",'[data-toggle="collapse"]',function(a){$(a.currentTarget).toggleClass("collapsed")}),$(function(){$('[data-show-on-load="true"]').find(".modal").modal("show")}),$(function(){function a(){new Swiper('[data-shop-chain-carousel="true"]',{slidesPerView:1,slidesPerGroup:1,speed:0,simulateTouch:!1,on:{init:function(){var a=this;a.slideTo($(this.el).data("current-step"),0),$('[data-shop-chain-carousel="true"] [data-carousel-slide-to]').on("click",function(){a.slideTo($(this).data("carousel-slide-to")),playSound("keydown")})}}})}"undefined"!=typeof Swiper&&(new Swiper('[data-tariffs-carousel="true"]',{slidesPerView:2,slidesPerGroup:2,spaceBetween:10,pagination:{clickable:!0,el:'[data-tariffs-carousel-dots="true"]'},navigation:{nextEl:'[data-tariffs-carousel-next="true"]',prevEl:'[data-tariffs-carousel-prev="true"]'},breakpoints:{993:{slidesPerView:3,slidesPerGroup:3}}}),a(),$("#shop-chain-purchase").on("success.tx.form",function(){setTimeout(function(){a()},5)}),new Swiper('[data-cards-carousel="true"]',{slidesPerView:5,spaceBetween:10,navigation:{nextEl:'[data-cards-carousel-next="true"]',prevEl:'[data-cards-carousel-prev="true"]'},breakpoints:{993:{slidesPerView:5}}}),new Swiper('[data-city-rating-cards-carousel="true"]',{loop:!0,initialSlide:0,loopedSlides:2,slidesPerView:1.8,centeredSlides:!0,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},effect:"coverflow",coverflowEffect:{rotate:0,stretch:140,depth:200,modifier:1,slideShadows:!1},breakpoints:{993:{slidesPerView:2.4,coverflowEffect:{stretch:100}},480:{coverflowEffect:{stretch:210}}}}),new Swiper('[data-city-competitions-carousel="true"]',{slidesPerView:3,spaceBetween:10,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},breakpoints:{993:{slidesPerView:4}}}),new Swiper('[data-frontpage-tariff-slider="true"]',{initialSlide:2,slidesPerView:1,spaceBetween:100,centeredSlides:!0,roundLengths:!0,loop:!0,loopAdditionalSlides:30,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{993:{slidesPerView:3}}}),new Swiper('[data-reviews-slider="true"]',{loop:!0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}).on("slideChange",function(a){var b=$(a.wrapperEl).find(".video-initialized");b.find("iframe").remove(),b.find("img").show(),b.removeClass("video-initialized")}),new Swiper('[data-frontpage-payouts-slider="true"]',{slidesPerView:"auto",spaceBetween:60,loop:!0,speed:6e3,autoplay:{delay:1}}),new Swiper('[data-bonus-cars-slider="true"]',{loop:!0,autoplay:{delay:1e3,disableOnInteraction:!1},pagination:{clickable:!0,el:".swiper-pagination"}}))}),$(function(){$(".menu-more-btn > a").click(function(a){a.preventDefault()})}),$(function(){$("[data-circular-progress]").circularProgress(),$("[data-slide-toggler]").txSlideToggler(),$(".content-tabs").each(function(){$(this).find(".content-tab-item:visible").last().addClass("content-tab-item-last")}),$(".daily-bonus-popup").on("mouseover",function(a){a.stopPropagation()})}),$(function(){$('[data-yt-video-review="true"]').click(function(){var a=$(this),b=a.data("id");a.hasClass("video-initialized")||(a.find("img").hide(),a.addClass("video-initialized"),a.append('\n\t\t\t<iframe \n\t\t\t\twidth="480" \n\t\t\t\theight="360" \n\t\t\t\tsrc="https://www.youtube.com/embed/'.concat(b,'?autoplay=1"\n\t\t\t\tallow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" \n\t\t\t\tallowfullscreen\n\t\t\t></iframe>\t\t\n\t\t')))})}),$(function(){$(document).on("show",".theme-modal",function(){$(this).find(".theme-modal-scroll").scrollTop(0),$(this).addClass("show-modal"),$(document.body).addClass("overflow-hidden")}).on("hide",".theme-modal",function(){$(this).removeClass("show-modal"),$(document.body).removeClass("overflow-hidden")}),$(document).on("click",".theme-modal-close, [data-theme-modal-close]",function(){$(this).closest(".theme-modal").trigger("hide")}),$(document).on("click","[data-theme-modal]",function(a){a.preventDefault(),$($(this).data("theme-modal")).trigger("show")}),$(document).on("click",".theme-modal",function(a){$(a.target).closest(".theme-modal-body").length||$(this).trigger("hide")}),$('[data-activity-modal="true"]').click(function(a){a.preventDefault();var b=($(this),$("#theme-activity-modal"));b.trigger("show"),b.data("activity-loaded")||$.get("/activity/items",function(a){b.find(".theme-modal-content").html(a),b.data("activity-loaded",!0),b.find(".timer").countdown(),b.trigger("init")})}),$("#theme-activity-modal").on("show hide",function(){$('[data-activity-modal="true"] > a').toggleClass("sidebar-nav-item-active")}).on("init",function(){new Swiper('[data-activity-slider="true"]',{loop:!0,pagination:{el:".swiper-navigation-dots",clickable:!0},navigation:{nextEl:".swiper-navigation-next",prevEl:".swiper-navigation-prev"}})})}),$(function(){$('[data-change-avatar="true"]').each(function(){var a=$(this),b=a.find('input[type="file"]');b.change(function(c){if(c.target.files.length){a.button("loading"),b.attr("disabled",!0);var d=new FormData;d.append("avatar",c.target.files[0]),$.ajax({url:"/profile/avatar",type:"POST",data:d,dataType:"json",cache:!1,processData:!1,contentType:!1,success:function(a){"success"===a.status&&($('[data-header-avatar="true"]').attr("src",a.src),$(".abAvatar .img-user-avatar").css("background-image","url("+a.src+")"))},complete:function(){a.button("reset"),b.removeAttr("disabled")}})}})}),$('[data-change-avatar-style="true"]').click(function(a){a.stopPropagation();var b=$(this);b.button("loading"),$.get("/profile/avatar/style_header",function(a){b.button("reset"),$('[ data-avatar-actions="true"]').hide(),$('[data-avatar-styles="true"]').html(a)})}),$(document).on("click",'[data-hide-avatar-styles="true"]',function(a){a.stopPropagation(),$('[ data-avatar-actions="true"]').show(),$('[data-avatar-styles="true"]').html("")}),$(document).on("click",'[data-avatar-styile-item="true"]',function(a){a.stopPropagation();var b=$(this),c=b.data("style-id"),d=$("#avatar-style");$('[data-avatar-styile-item="true"]').removeClass("selected"),b.addClass("selected"),b.button("loading"),d.find('input[name="style_id"]').val(c),d.attr("action","/profile/avatar/style_header"),d.submit(),d.on("success.tx.form error.tx.form",function(a,c){b.button("reset"),$('[data-hide-avatar-styles="true"]').click(),$(".user-setting-popup").trigger("txSlideUp")})})}),$(function(){$(document).on("success.tx.form","#partsBuyForm, #partsUpdateForm",function(){playSound("install_upgrade")})}),$(function(){$(document).on("click","[data-block-href]",function(){window.location=$(this).data("block-href")})}),$(function(){$(document).ajaxComplete(function(){$(".popover.in, .tooltip.in").each(function(){var a=$(this).attr("id"),b=$('[aria-describedby="'.concat(a,'"]'));b.length&&b.is("hover")||$(this).remove()})}),$(document).on("mouseout",'[data-toggle="tooltip"]',function(a){var b=document.elementFromPoint(a.clientX,a.clientY);if(!(null===b||void 0===b?void 0:b.closest('[data-toggle="tooltip"]'))){var c=$(this).attr("aria-describedby");$("#".concat(c)).remove()}}),$(document).on("touchmove",function(){$(".tooltip.in").hide()})}),$(function(){$("[data-play-sound]").on("click",function(){var a=$(this).data("play-sound");a&&playSound(a)})}),$(function(){$(document).on("ready scroll",function(){$(this).scrollTop()?$(".app-header").addClass("app-header-fade"):$(".app-header").removeClass("app-header-fade")}),$('[data-scroll-container="true"]').scrollContainer()}),$(function(){
$('[data-floating-button-group="true"] > .floating-button').click(function(){isMobileScreen()||($(".chat-window-wrap").is(":visible")?$('[data-close-chat="true"]').click():$('[data-float-chat-group="true"]').first().click())}),$(".finance-account-deposit").click(function(){isMobileScreen()||(window.location="/finance")})}),$(function(){$(document).on("click",'[data-activity-bonus="true"]',function(){$("#theme-activity-modal").trigger("hide"),$("#active-bonus-modal").trigger("show")}),$(document).on("click",'[data-activity-item="true"]',function(){var a=$(this).find(".activity-item-new");if(a.length){a.remove();var b=$('[data-activity-modal="true"]').find(".sidebar-nav-item-badge");b.text(parseInt(b.text())-1)}})}),$(function(){var a=!1,b=$(".modal.in"),c=$(".quest-float-bar");c.hasClass("slideup")&&(b.length>0&&(a=!0,c.removeClass("slideup").addClass("slidedown")),b.on("hide.bs.modal",function(b){a&&(a=!1,c.addClass("slideup").removeClass("slidedown"))}))});